# Read SWAT HRU output

Reads the `output.hru` file generated by SWAT, allowing users to filter
the data by variables, subbasin IDs, HRU IDs, and time steps (daily or
monthly).

## Usage

``` r
output_hru(
  file = "output.hru",
  variable = NULL,
  target_id = NULL,
  time_step = "daily",
  output_start_date
)
```

## Arguments

- file:

  Character. Absolute path to the `output.hru` file. Default is
  "output.hru".

- variable:

  Character vector with the names of variables to read. Use
  [`get_swat_vars`](https://fernandezpalomino.github.io/hydroSWAT/reference/get_swat_vars.md)`("hru")`
  to list all options. If `NULL`, all variables are read.

- target_id:

  Character vector of HRU IDs (HRUGIS). Default `NULL` retrieves all
  HRUs.

- time_step:

  Character. Time step of the simulation ("daily" or "monthly"). Default
  is "daily".

- output_start_date:

  Character. Date when SWAT output generation begins (first day after
  warm-up), in "yyyy-mm-dd" format.

## Value

A `data.frame` with the selected variables for each HRU and time step.
Columns "LULC", "HRU", "GIS", "SUB", and "MON" are always included.

## See also

Other Output readers:
[`get_swat_vars()`](https://fernandezpalomino.github.io/hydroSWAT/reference/get_swat_vars.md),
[`output_rch()`](https://fernandezpalomino.github.io/hydroSWAT/reference/output_rch.md),
[`output_sub()`](https://fernandezpalomino.github.io/hydroSWAT/reference/output_sub.md),
[`read_pcp()`](https://fernandezpalomino.github.io/hydroSWAT/reference/read_pcp.md),
[`read_tmp()`](https://fernandezpalomino.github.io/hydroSWAT/reference/read_tmp.md)

## Examples

``` r
# Example with package data
tmpdir <- tempdir()
get_swat_example(tmpdir)
#> SWAT TxtInOut files written to: /tmp/RtmpUu15Uv/TxtInOut
hru_file <- file.path(tmpdir, "TxtInOut", "output.hru")
hru_data <- output_hru(file = hru_file, variable = c("PRECIPmm", "ETmm", "WYLDmm"),
                       target_id = NULL, time_step = "daily",
                       output_start_date = "2011-01-01")
head(hru_data)
#> # A tibble: 6 Ã— 8
#>   LULC    HRU GIS         SUB MON        PRECIPmm  ETmm WYLDmm
#>   <chr> <int> <chr>     <int> <date>        <dbl> <dbl>  <dbl>
#> 1 PAST      1 000010001     1 2011-01-01      2.6  2.73  0.437
#> 2 PAST      1 000010001     1 2011-01-02      0.3  2.16  0.303
#> 3 PAST      1 000010001     1 2011-01-03      0.7  2.31  0.234
#> 4 PAST      1 000010001     1 2011-01-04      0.5  2.08  0.193
#> 5 PAST      1 000010001     1 2011-01-05      0.2  1.72  0.166
#> 6 PAST      1 000010001     1 2011-01-06      1.1  2.02  0.146

if (FALSE) { # \dontrun{
# Example with external SWAT project
hru_data <- output_hru(file = "C:/SWAT_Project/TxtInOut/output.hru",
                       variable = NULL, target_id = NULL,
                       time_step = "monthly",
                       output_start_date = "2000-01-01")
} # }
```
