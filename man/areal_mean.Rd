% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocessing_tools.R
\name{areal_mean}
\alias{areal_mean}
\title{Compute areal means of raster data over polygons}
\usage{
areal_mean(
  grid,
  geom,
  start_date,
  time_step = "day",
  cores = 1,
  grid_file = NULL
)
}
\arguments{
\item{grid}{A `SpatRaster` object for single-core processing.}

\item{geom}{A set of polygons in `sf` format to perform the extraction.}

\item{start_date}{The start date for the time series.}

\item{time_step}{Time step between raster layers. Either 'day' or 'month'.
Default is 'day'.}

\item{cores}{Number of cores for parallel processing. Default is 1
(single-core).}

\item{grid_file}{(Optional) Path to the NetCDF file for parallel processing.}
}
\value{
A data frame with the mean values extracted for each polygon and
  each raster layer.
}
\description{
Estimates mean values of raster cells for each polygon. Supports parallel
processing, allowing each core to independently load and process raster
layers from a NetCDF file. Used internally by \link{pcp2swat_editor}
and \link{tmp2swat_editor} for SWAT input preparation.
}
\examples{
\donttest{
# Example with package NetCDF data
pr_nc <- system.file("extdata", "pr.nc", package = "hydroSWAT")
data(subs1, package = "hydroSWAT")
grid <- terra::rast(pr_nc)
result <- areal_mean(grid, subs1, "2010-01-01", time_step = "day")
}

\dontrun{
# Example with external NetCDF and shapefile
grid <- terra::rast("path_to_raster_file.nc")
geom <- sf::st_read("path_to_shapefile.shp")
result <- areal_mean(grid, geom, "1981-01-01", time_step = "day",
                     cores = 2, grid_file = "path_to_netCDF.nc")
}
}
\seealso{
\code{\link{pcp2swat_editor}}, \code{\link{tmp2swat_editor}},
\code{\link{pcp2swat}}, \code{\link{tmp2swat}}

Other Preprocessing tools: 
\code{\link{pcp2swat}()},
\code{\link{pcp2swat_editor}()},
\code{\link{tmp2swat}()},
\code{\link{tmp2swat_editor}()}
}
\concept{Preprocessing tools}
